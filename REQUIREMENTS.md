# Easy Shortcut Key 要件定義書

## 概要
ショートカットキーが覚えられないため、様々なデバイスで統一された設定を使ってショートカットキーを表示するシステムを構築する。

## 目的
- ショートカットキーの学習と記憶をサポート
- 複数デバイス間での統一された設定管理
- いつでもどこでもアクセス可能なショートカット参照

## 対象デバイス

### 1. iOS
- **用途**: いつでも携帯しているメインデバイス
- **要件**: モバイルアプリまたはWebアプリ
- **特徴**: タッチ操作、オフライン対応

### 2. ブラウザ
- **用途**: デスクトップでの作業中の参照
- **要件**: HTMLとJS、設定用JSONファイルで構成されるコンパクトなもの
- **特徴**: シンプル、軽量、設定ファイルの直接編集可能

### 3. M5Stack Tab5
- **用途**: USBキーボードとして認識し、ビューアーだけでなく実際にショートカットを実行
- **要件**: USBキーボード機能付きビューアー
- **特徴**: 物理デバイス、実際のキー入力機能

### 4. M5Paper
- **用途**: ePaperで電池長持ち、目が疲れないデバイス
- **要件**: 電子ペーパーディスプレイ対応
- **特徴**: 長時間表示、目に優しい、紙の代替

## 共通設定仕様

### JSON設定ファイル構造
```json
[
  {
    "appName": "VS Code",
    "order": 1,
    "groups": [
      {
        "groupName": "GitHub Copilot",
        "order": 1,
        "shortcuts": [
          {
            "action": "承諾",
            "keys": ["Tab"],
            "description": "Copilotの提案を承諾",
            "os": ["windows", "mac", "linux"]
          },
          {
            "action": "次の提案",
            "keys": ["Alt", "]"],
            "description": "次のCopilot提案を表示",
            "os": ["windows", "linux"]
          },
          {
            "action": "次の提案",
            "keys": ["Option", "]"],
            "description": "次のCopilot提案を表示",
            "os": ["mac"]
          }
        ]
      }
    ]
  }
]
```

### 設定項目詳細

#### Program（プログラム）
- `program`: アプリケーション名
- `order`: 表示順序
- `icon`: アイコンファイルパス（オプション）
- `version`: 対応バージョン（オプション）

#### Group（グループ）
- `groupName`: 機能グループ名
- `order`: グループ内での表示順序
- `description`: グループの説明（オプション）

#### Shortcut（ショートカット）
- `action`: アクション名（日本語可）
- `keys`: キーの配列（修飾キー + 通常キーの順）
- `description`: 詳細説明
- `os`: 対応OS（"windows", "mac", "linux", "ios", "android"）
- `context`: 使用コンテキスト（オプション）

## 機能要件

### 共通機能
1. **設定ファイル管理**
   - JSON設定ファイルの読み込み
   - 設定の検証とエラーハンドリング
   - 設定の更新と保存

2. **表示機能**
   - プログラム別表示
   - グループ別表示
   - 検索・フィルター機能
   - OS別表示切り替え

3. **ユーザビリティ**
   - 直感的なUI/UX
   - レスポンシブデザイン
   - アクセシビリティ対応

### デバイス固有機能

#### ブラウザ版
- オフライン動作
- ローカルファイル読み込み
- 設定ファイルのドラッグ&ドロップ
- 印刷機能

#### M5Stack Tab5版
- USBキーボードエミュレーション
- 物理ボタン操作
- 設定のSD保存

#### M5Paper版
- 低消費電力表示
- 紙ライクな表示最適化
- 長期間表示対応

## 技術仕様

### ファイル構成
```
EasyShortcutKey/
├── config/
│   ├── shortcuts.json          # メイン設定ファイル
│   ├── schema.json            # JSON スキーマ
│   └── examples/              # サンプル設定
├── browser/
│   ├── index.html            # ブラウザ版メイン
│   ├── app.js                # ブラウザ版ロジック
│   └── style.css             # スタイル
├── ios/                      # iOS実装
├── m5stack-tab5/             # M5Stack Tab5実装
├── m5paper/                  # M5Paper実装
└── docs/                     # ドキュメント
```

### 開発優先順位
1. JSON設定仕様の確定
2. ブラウザ版の実装
3. サンプル設定の作成
4. iOS版の基盤作成
5. M5デバイス版の基盤作成

## 成功基準
- [ ] 統一されたJSON設定で全デバイスが動作
- [ ] ブラウザ版が1つのフォルダで完結
- [ ] 設定ファイルの編集が簡単
- [ ] 各デバイスで快適に閲覧可能
- [ ] 将来的な拡張性を確保