<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>EasyShortcutKey KeyboardGW ãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢æ›¸ãè¾¼ã¿ã‚¬ã‚¤ãƒ‰ (esptoolç‰ˆ)</title>
<style>
 body {font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',system-ui,sans-serif;line-height:1.6;color:#222;max-width:880px;margin:0 auto;padding:24px;}
 h1,h2,h3{line-height:1.25;margin-top:2.0em;}
 pre,code{font-family:Menlo,Monaco,Consolas,monospace;font-size:0.9em;background:#f5f7f9;border-radius:4px;padding:2px 6px;}
 pre{padding:14px;overflow:auto;}
 .step{background:#f2f8ff;border-left:4px solid #0d6efd;padding:16px 20px;margin:18px 0;border-radius:0 6px 6px 0;}
 .warn{background:#fff4d6;border-left:4px solid #ffb017;padding:14px 18px;margin:18px 0;border-radius:0 6px 6px 0;}
 .ok{background:#e9faef;border-left:4px solid #2ba84a;padding:14px 18px;margin:18px 0;border-radius:0 6px 6px 0;}
 ul,ol{margin:0 0 1.2em 1.4em;}
 .badge{display:inline-block;background:#0d6efd;color:#fff;font-size:0.72em;padding:2px 6px;border-radius:4px;margin-left:6px;vertical-align:middle;}
 a{color:#0d6efd;text-decoration:none;}a:hover{text-decoration:underline;}
 table{border-collapse:collapse;width:100%;font-size:0.9em;margin:18px 0;}th,td{border:1px solid #ddd;padding:8px 10px;text-align:left;}th{background:#f0f3f6;}
 .cmd-title{font-weight:bold;margin-top:1.2em;}
</style>
</head>
<body>
<h1>ğŸ§ª KeyboardGW ãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢æ›¸ãè¾¼ã¿ã‚¬ã‚¤ãƒ‰ <span class="badge">esptool</span></h1>
<p>M5Stack AtomS3 ç”¨ <strong>KeyboardGW</strong> ãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢ã‚’ã€PlatformIO ã‚’ä½¿ã‚ãšã« <code>esptool.py</code> ã§ç›´æ¥ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã™ã‚‹æ‰‹é †ã‚’ã¾ã¨ã‚ãŸã‚ˆã€‚é…å¸ƒã•ã‚ŒãŸ <code>.bin</code> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãã®ã¾ã¾æ›¸ãè¾¼ã¿ãŸã„åˆ©ç”¨è€…å‘ã‘ã€‚</p>

<h2>ğŸ”§ äº‹å‰ç¢ºèª</h2>
<ul>
 <li>å¯¾è±¡ãƒãƒ¼ãƒ‰: M5Stack AtomS3 (ESP32-S3)</li>
 <li>USBãƒ‡ãƒ¼ã‚¿å¯¾å¿œã®ã‚±ãƒ¼ãƒ–ãƒ«ã‚’ä½¿ç”¨ï¼ˆå……é›»å°‚ç”¨ã‚±ãƒ¼ãƒ–ãƒ«ã¯ä¸å¯ï¼‰</li>
 <li>Windows / macOS / Linux ã„ãšã‚Œã‚‚OK</li>
</ul>

<div class="warn"><strong>æ³¨æ„:</strong> æœ¬æ‰‹é †ã¯æ—¢å­˜ãƒ¦ãƒ¼ã‚¶å‘ã‘ç°¡æ˜“æ›´æ–°ãƒ•ãƒ­ãƒ¼ã€‚é–‹ç™ºã‚’è¡Œã„ãŸã„å ´åˆã¯ <code>KeyboardGW/README.md</code> ã‚’å‚ç…§ã— PlatformIO ã§ãƒ“ãƒ«ãƒ‰ã—ã¦ã­ã€‚</div>

<h2>â‘  esptool.py ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h2>
<div class="step">
<p>Python ãŒä½¿ãˆã‚‹ç’°å¢ƒãªã‚‰ä»¥ä¸‹ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚</p>
<pre><code>pip install esptool</code></pre>
<p>ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª:</p>
<pre><code>esptool.py version</code></pre>
</div>

<h2>â‘¡ ãƒ‡ãƒã‚¤ã‚¹ã®ã‚·ãƒªã‚¢ãƒ«ãƒãƒ¼ãƒˆã‚’èª¿ã¹ã‚‹</h2>
<div class="step">
<p>macOS ä¾‹:</p>
<pre><code>ls /dev/cu.usb* | grep -i modem</code></pre>
<p>Windows ä¾‹: ãƒ‡ãƒã‚¤ã‚¹ãƒãƒãƒ¼ã‚¸ãƒ£ â†’ ãƒãƒ¼ãƒˆ (COM/LPT) ã§ <code>COM3</code> ãªã©ã‚’ç¢ºèªã€‚</p>
</div>

<h2>â‘¢ (ä»»æ„) ãƒ•ãƒ©ãƒƒã‚·ãƒ¥å…¨æ¶ˆå»</h2>
<p>æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆã—ãŸã„å ´åˆã®ã¿ã€‚</p>
<pre><code>esptool.py --chip esp32s3 --port /dev/cu.usbmodem1101 erase_flash</code></pre>
<div class="warn">ãƒãƒ¼ãƒˆåã¯ç’°å¢ƒã«åˆã‚ã›ã¦å¤‰æ›´ã—ã¦ã­ã€‚Windows ãªã‚‰ <code>COM5</code> ãªã©ã€‚</div>

<h2>â‘£ ãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢ã‚’æ›¸ãè¾¼ã‚€</h2>
<p>é…å¸ƒã•ã‚ŒãŸ <code>KeyboardGW_m5stack-atoms3.bin</code> (ä¾‹: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ«ãƒ€) ã‚’ä½¿ã†ã€‚</p>
<pre><code>esptool.py --chip esp32s3 --port /dev/cu.usbmodem1101 --baud 921600 write_flash -z 0x0 KeyboardGW_m5stack-atoms3.bin</code></pre>
<ul>
 <li><code>-z</code>: è»¢é€ãƒ‡ãƒ¼ã‚¿ã‚’åœ§ç¸®</li>
 <li><code>0x0</code>: å˜ä¸€ãƒã‚¤ãƒŠãƒªã‚’ãƒ•ãƒ©ãƒƒã‚·ãƒ¥å…¨ä½“å…ˆé ­ã«æ›¸ãæ§‹æˆ (huge_app ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³æƒ³å®š)</li>
</ul>

<h2>â‘¤ æ›¸ãè¾¼ã¿å®Œäº†å¾Œ</h2>
<div class="ok">
<ul>
 <li>USB ã‚’ä¸€åº¦æŠœãå·®ã— or RST ãƒœã‚¿ãƒ³ã§å†èµ·å‹•</li>
 <li>PC ã« HID Keyboard ã¨ã—ã¦å†èªè­˜ã•ã‚Œã‚‹</li>
 <li>LED: èµ·å‹•â†’é’ / å¾…æ©Ÿâ†’é’ç‚¹ç¯ / æ¥ç¶šâ†’ç·‘</li>
</ul>
</div>

<h2>ğŸ©º ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h2>
<table>
<thead><tr><th>ç—‡çŠ¶</th><th>åŸå› å€™è£œ / å¯¾å‡¦</th></tr></thead>
<tbody>
<tr><td>Failed to connect</td><td>USBã‚±ãƒ¼ãƒ–ãƒ«ä¸è‰¯ / ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãšã‚Œã€‚æŠœãå·®ã—ã—ã¦å†åº¦å®Ÿè¡Œã€‚å¿…è¦ãªã‚‰ãƒœãƒ¼ãƒ‰èµ·å‹•ç›´å¾Œã«ã‚³ãƒãƒ³ãƒ‰ã€‚</td></tr>
<tr><td>ãƒãƒ¼ãƒˆãŒé€”ä¸­ã§æ¶ˆãˆã‚‹</td><td>æœ¬ãƒ•ã‚¡ãƒ¼ãƒ ã¯ HID å„ªå…ˆã§ CDC ãŒå¸¸æ™‚å‡ºãªã„ã€‚æ›¸ãè¾¼ã¿ã¯ãƒ–ãƒ¼ãƒˆãƒ­ãƒ¼ãƒ€(CDCæœ‰åŠ¹)ã®çŸ­æ™‚é–“å†…ã«è¡Œã†ã€‚</td></tr>
<tr><td>MD5 mismatch</td><td>å†æ›¸è¾¼ã¿ã€‚USBãƒãƒ–ã‚’çµŒç”±ã—ã¦ã„ã‚‹ãªã‚‰ç›´çµã™ã‚‹ã€‚</td></tr>
<tr><td>æ–‡å­—åŒ–ã‘</td><td>ã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿é€Ÿåº¦è¨­å®šãƒŸã‚¹ãƒãƒƒãƒã€‚115200 ã‚’æŒ‡å®šã€‚</td></tr>
</tbody>
</table>

<h2>ğŸ§© ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰é›†</h2>
<pre><code># ãƒãƒƒãƒ—æƒ…å ±
esptool.py --port /dev/cu.usbmodem1101 chip_id

# ãƒ•ãƒ©ãƒƒã‚·ãƒ¥æƒ…å ±
esptool.py --port /dev/cu.usbmodem1101 flash_id

# èµ·å‹•ãƒ­ã‚° (é–‹ç™ºç‰ˆã§ CDC æœ‰åŠ¹æ™‚)
screen /dev/cu.usbmodem1101 115200
</code></pre>

<h2>ğŸ“¦ é–‹ç™ºè€…å‘ã‘ (ä»»æ„)</h2>
<p>è‡ªåˆ†ã§ãƒ“ãƒ«ãƒ‰ã—ãŸã„å ´åˆ:</p>
<pre><code>git clone https://github.com/NW-Lab/EasyShortcutKey.git
cd EasyShortcutKey/KeyboardGW
pio run
# å‡ºåŠ›: firmware/KeyboardGW_m5stack-atoms3.bin</code></pre>

<h2>ğŸ” ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°æ™‚ã®ãƒ•ãƒ­ãƒ¼ (é…å¸ƒå´ãƒ¡ãƒ¢)</h2>
<ol>
 <li>PlatformIO ã§ãƒ“ãƒ«ãƒ‰ (ãƒœãƒ¼ãƒ‰: m5stack-atoms3)</li>
 <li><code>firmware/KeyboardGW_m5stack-atoms3.bin</code> ã‚’ãƒªãƒªãƒ¼ã‚¹ã‚¢ã‚»ãƒƒãƒˆ or é…å¸ƒã‚µã‚¤ãƒˆã¸ã‚¢ãƒƒãƒ—</li>
 <li>æœ¬ãƒšãƒ¼ã‚¸ (WordPress) ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯ã‚’æ›´æ–°</li>
</ol>

<hr>
<p><small>EasyShortcutKey â€“ Firmware Flash Guide / Updated: 2025-09-25</small></p>
</body>
</html>
